@inherits ToSic.Sxc.Dnn.RazorComponent
@using ToSic.Razor.Blade;
@{
  // Enable 2sic JS APIs (this will load the latest js-api to help with getting data from 2sxc data base) 
  Edit.Enable(js: true);

  // Add <base> tag using RazorBlade - Angular needs this so that links changing dialogs (routes) work properly
  HtmlPage.AddBase((Link.Base()));

  // Create helper to integrate angular best-practice with edition switching and everything
  var ngHelpers = CreateInstance("./shared/_AngularIntegration.cshtml");
}

@* Show edition selector for host/super users only - you could also change this, to allow testers to see this *@
@if(Dnn.User.IsSuperUser) {
  @ngHelpers.ShowEditionSelectorForThisApp("live,staging,local")
}

@if(ngHelpers.CurrentEdition == "local") {
  @ngHelpers.LoadFromNgServe()
} else {
  @Html.Raw(ngHelpers.ImportAngularHtml());
}
