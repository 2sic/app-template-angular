"use strict";(self.webpackChunkng_app=self.webpackChunkng_app||[]).push([[127],{3127:(U,p,i)=>{i.r(p),i.d(p,{TeamComponent:()=>B});var m=i(6354),d=i(8359),e=i(3953);let F=(()=>{class t{subSink=new d.yU;autoUnsubscribe(n){this.subSink.add(n)}ngOnDestroy(){this.subSink.unsubscribe()}static \u0275fac=function(s){return new(s||t)};static \u0275cmp=e.VBU({type:t,selectors:[["dummy-abstract-component"]],decls:0,vars:0,template:function(s,o){},encapsulation:2})}return t})(),h=(()=>{class t{static \u0275fac=function(s){return new(s||t)};static \u0275cmp=e.VBU({type:t,selectors:[["app-team-explained"]],standalone:!0,features:[e.aNF],decls:32,vars:0,consts:[["href","https://2sxc.org/","target","_blank"]],template:function(s,o){1&s&&(e.j41(0,"div")(1,"h3"),e.EFF(2,"How it works"),e.k0s(),e.j41(3,"p"),e.EFF(4," Everything here is standard Angular, and it talks with DNN and "),e.j41(5,"a",0),e.EFF(6,"2sxc"),e.k0s(),e.EFF(7," to get data. "),e.k0s(),e.j41(8,"ul")(9,"li"),e.EFF(10,"the menu showing the business units uses the "),e.j41(11,"code"),e.EFF(12,"SxcApp.data"),e.k0s(),e.EFF(13," from 2sxc to get all items of a specific type (in this case the BusinessUnits)"),e.k0s(),e.j41(14,"li"),e.EFF(15,"if you click on a business unit, the "),e.j41(16,"code"),e.EFF(17,"route"),e.k0s(),e.EFF(18," is changed"),e.k0s(),e.j41(19,"li"),e.EFF(20,"the list showing the team uses "),e.j41(21,"code"),e.EFF(22,"SxcApp.query"),e.k0s(),e.EFF(23," to query the "),e.j41(24,"code"),e.EFF(25,"Person"),e.k0s(),e.EFF(26,"s based on the selected BusinessUnit"),e.k0s(),e.j41(27,"li"),e.EFF(28,"if you're logged in as admin, the "),e.j41(29,"code"),e.EFF(30,"sxc-toolbar"),e.k0s(),e.EFF(31," attribute gives you mouse-over menus to edit/delete things"),e.k0s()()())},encapsulation:2})}return t})(),f=(()=>{class t{person;static \u0275fac=function(s){return new(s||t)};static \u0275cmp=e.VBU({type:t,selectors:[["app-person"]],inputs:{person:"person"},standalone:!0,features:[e.aNF],decls:4,vars:2,template:function(s,o){1&s&&(e.j41(0,"div"),e.nrm(1,"img"),e.j41(2,"b"),e.EFF(3),e.k0s()()),2&s&&(e.R7$(),e.BMQ("src",o.person.Photo+"?width=100&mode=crop",e.B4B),e.R7$(2),e.JRh(o.person.Name))},styles:["img[_ngcontent-%COMP%]{border-radius:50%;width:50px}div[_ngcontent-%COMP%]:hover{color:#0088f4;text-decoration:underline}"],changeDetection:0})}return t})();var c=i(177),u=i(4255),a=i(8930);const b=()=>({exact:!0});function g(t,l){if(1&t&&(e.j41(0,"a",2),e.EFF(1),e.k0s()),2&t){const n=l.$implicit;e.Y8G("routerLink","/examples/team/"+n.Name),e.R7$(),e.SpI(" | ",n.Name," ")}}let v=(()=>{class t{businessUnits$;constructor(n){this.businessUnits$=n.data("BusinessUnit").getAll()}static \u0275fac=function(s){return new(s||t)(e.rXU(a.oK))};static \u0275cmp=e.VBU({type:t,selectors:[["app-business-unit-selector"]],standalone:!0,features:[e.aNF],decls:6,vars:5,consts:[["routerLink","/examples/team","routerLinkActive","selected",3,"routerLinkActiveOptions"],["routerLinkActive","selected",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","selected",3,"routerLink"]],template:function(s,o){1&s&&(e.j41(0,"div"),e.EFF(1," Select Business Unit: "),e.j41(2,"a",0),e.EFF(3," All "),e.k0s(),e.DNE(4,g,2,2,"a",1),e.nI1(5,"async"),e.k0s()),2&s&&(e.R7$(2),e.Y8G("routerLinkActiveOptions",e.lJ4(4,b)),e.R7$(2),e.Y8G("ngForOf",e.bMT(5,2,o.businessUnits$)))},dependencies:[u.Wk,u.wQ,c.pM,c.Jj],styles:["li[_ngcontent-%COMP%]{display:inline}a.selected[_ngcontent-%COMP%]{font-weight:700}"]})}return t})();var k=i(4412),y=i(5558);let E=(()=>{class t{selectedBu$=new k.t("");team$;constructor(n,s){const o=s.sxc?.isEditMode()?"&includeGuid=true":"";this.team$=this.selectedBu$.pipe((0,y.n)(r=>n.query(`BusinessUnitTeam?bu=${r}${o}`).getStream("Default")))}setFilter(n){this.selectedBu$.next(n)}refresh(){this.setFilter(this.selectedBu$.value)}static \u0275fac=function(s){return new(s||t)(e.KVO(a.oK),e.KVO(a.ob))};static \u0275prov=e.jDH({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})();function j(t,l){if(1&t){const n=e.RV6();e.j41(0,"li",0),e.bIt("refresh",function(){e.eBV(n);const o=e.XpG();return e.Njj(o.teamSvc.refresh())}),e.nrm(1,"app-person",2),e.k0s()}if(2&t){const n=l.$implicit,s=e.XpG();e.Y8G("sxc-toolbar",s.toolbarFor(n)),e.R7$(),e.Y8G("person",n)}}let B=(()=>{class t extends F{route;teamSvc;cdr;team=[];constructor(n,s,o){super(),this.route=n,this.teamSvc=s,this.cdr=o,this.autoUnsubscribe(this.route.params.pipe((0,m.T)(r=>r.name||"")).subscribe(r=>this.teamSvc.setFilter(r))),this.autoUnsubscribe(this.teamSvc.team$.subscribe(r=>{this.team=r,this.cdr.detectChanges()}))}trackById(n,s){return s.Id}toolbarFor(n){const s="toolbar=empty?contentType=Person&entityId="+(n?.Id??"0");return n?[s,"edit","delete&color=gray?entityGuid="+n.Guid+"&title="+n.Name]:[s,"new"]}static \u0275fac=function(s){return new(s||t)(e.rXU(u.nX),e.rXU(E),e.rXU(e.gRc))};static \u0275cmp=e.VBU({type:t,selectors:[["app-team"]],standalone:!0,features:[e.Vt3,e.aNF],decls:8,vars:3,consts:[[3,"refresh","sxc-toolbar"],[3,"sxc-toolbar","refresh",4,"ngFor","ngForOf","ngForTrackBy"],[3,"person"]],template:function(s,o){1&s&&(e.j41(0,"div",0),e.bIt("refresh",function(){return o.teamSvc.refresh()}),e.j41(1,"h2"),e.EFF(2,"Team"),e.k0s(),e.nrm(3,"app-business-unit-selector"),e.j41(4,"ol"),e.DNE(5,j,2,2,"li",1),e.k0s(),e.nrm(6,"hr")(7,"app-team-explained"),e.k0s()),2&s&&(e.Y8G("sxc-toolbar",o.toolbarFor()),e.R7$(5),e.Y8G("ngForOf",o.team)("ngForTrackBy",o.trackById))},dependencies:[a.dW,a.hW,v,c.pM,f,h],encapsulation:2,changeDetection:0})}return t})()}}]);